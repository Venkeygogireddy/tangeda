<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Tangeda</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- NAVBAR (sticky + mobile hamburger) -->
  <nav class="top-nav" id="top-nav">
    <a href="index.html" class="brand">Tangeda</a>

    <button class="nav-toggle" id="nav-toggle"
      aria-label="Open menu"
      aria-expanded="false"
      aria-controls="nav-links">
      ☰
    </button>

    <div class="nav-links" id="nav-links">
      <a href="index.html" class="active">Home</a>
      <a href="about.html">About</a>

      <!-- Festivals dropdown -->
      <div class="dropdown" id="festivals-dd">
        <a href="festivals.html" class="dropbtn" id="festivals-link">Festivals</a>
        <div class="dropdown-content">
          <a href="festivals.html">All Festivals</a>
          <a href="gallery.html#sankranthi">Sankranthi</a>
          <a href="gallery.html#ganesh">Ganesh Chaturthi</a>
          <a href="gallery.html#muharram">Muharram</a>
        </div>
      </div>

      <a href="temples.html">Temples</a>
      <a href="people.html">People</a>
      <a href="gallery.html">Gallery</a>
      <a href="news.html">News</a>
      <a href="services.html">Services</a>
      <a href="directory.html">Directory</a>
      <a href="guestbook.html">Guestbook</a>
      <a href="contact.html">Contact</a>
      <a href="travel.html">Travel Info</a>
    </div>
  </nav>

  <!-- HERO SECTION WITH SLIDESHOW -->
  <header>
    <div class="hero-slideshow">
      <div class="hero-slide active" style="background-image: url('images/village-banner.jpg');"></div>
      <div class="hero-slide" style="background-image: url('images/tangeda-village.jpg');"></div>
      <div class="hero-slide" style="background-image: url('images/tangeda-festival.jpg');"></div>
    </div>

    <div class="hero-content">
      <h1>Welcome to Tangeda</h1>
      <p>A village rich in heritage, culture, and community.</p>

      <!-- NEW HERO SEARCH -->
      <div class="hero-search">
        <label class="sr-only" for="site-search">Search</label>

        <div class="search-pill">
          <span class="search-icon" aria-hidden="true"></span>

          <input
            type="text"
            id="site-search"
            placeholder="Search temples, festivals, people..."
            onkeypress="if(event.key==='Enter'){ performSearch(); }"
            autocomplete="off"
          />

          <button class="pill-btn" onclick="performSearch()" title="Search" aria-label="Search">
            Search
          </button>

        </div>

        <div class="quick-hints">
          Try: <a href="temples.html">Temples</a>, <a href="festivals.html">Festivals</a>, <a href="people.html">People</a>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <section class="about-container" style="text-align:center;">
    <h2>Discover Tangeda</h2>
    <p class="lead-text">
      Explore the rich culture, peaceful landscapes, and community traditions of Tangeda.
      Learn about our festivals, temples, people, and the heritage passed down for generations.
    </p>
  </section>

  <!-- HIGHLIGHTS SECTION -->
  <section>
    <div class="highlights">
      <div class="highlight-box">
        <h3>Rich Heritage</h3>
        <p>
          Founded centuries ago, Tangeda is home to deep-rooted traditions
          and historic temples that preserve its royal legacy.
        </p>
      </div>

      <div class="highlight-box">
        <h3>Cultural Events</h3>
        <p>
          Celebrate colourful festivals like Sankranthi, Ganesh Chaturthi, and Muharram
          with unity and joy across the village.
        </p>
      </div>

      <div class="highlight-box">
        <h3>Community Services</h3>
        <p>
          From schools to healthcare and agriculture, Tangeda continues to grow
          while supporting its people with essential services.
        </p>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-col">
        <h4>Tangeda Village</h4>
        <p class="footer-text">
          A place of heritage, culture, and community. Explore festivals, temples, people, and local services.
        </p>
      </div>

      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul class="footer-links">
          <li><a href="about.html">About</a></li>
          <li><a href="festivals.html">Festivals</a></li>
          <li><a href="temples.html">Temples</a></li>
          <li><a href="people.html">People</a></li>
          <li><a href="gallery.html">Gallery</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Information</h4>
        <ul class="footer-links">
          <li><a href="news.html">News</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="directory.html">Directory</a></li>
          <li><a href="travel.html">Travel Info</a></li>
          <li><a href="guestbook.html">Guestbook</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Contact</h4>
        <ul class="footer-links">
          <li><a href="contact.html">Contact Page</a></li>
          <li><a href="mailto:yourmail@example.com">yourmail@example.com</a></li>
        </ul>

        <div class="footer-social">
          <a href="#" aria-label="Facebook">Facebook</a>
          <a href="#" aria-label="Instagram">Instagram</a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>© 2025 Tangeda Village. All rights reserved.</p>
    </div>
  </footer>

  <!-- JS: Search + Voice + Slideshow + Dropdown + Mobile Menu -->
  <script>
    function performSearch() {
      const query = document.getElementById("site-search").value.toLowerCase().trim();
      if (!query) return;

      const pageMap = {
        home: "index.html",
        about: "about.html",
        history: "about.html",
        festivals: "festivals.html",
        festival: "festivals.html",
        sankranthi: "gallery.html#sankranthi",
        pongal: "gallery.html#sankranthi",
        ganesh: "gallery.html#ganesh",
        ganeshchaturthi: "gallery.html#ganesh",
        chaturthi: "gallery.html#ganesh",
        muharram: "gallery.html#muharram",
        temples: "temples.html",
        temple: "temples.html",
        people: "people.html",
        gallery: "gallery.html",
        photos: "gallery.html",
        images: "gallery.html",
        contact: "contact.html",
        services: "services.html",
        service: "services.html",
        news: "news.html",
        travel: "travel.html",
        direction: "travel.html"
      };

      for (const keyword in pageMap) {
        if (query.includes(keyword)) {
          window.location.href = pageMap[keyword];
          return;
        }
      }

      alert("No matching page found.");
    }

    function startVoiceSearch() {
      if (!("webkitSpeechRecognition" in window)) {
        alert("Voice search is not supported in this browser.");
        return;
      }

      const recognition = new webkitSpeechRecognition();
      recognition.lang = "en-US";
      recognition.onresult = function (event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById("site-search").value = transcript;
        performSearch();
      };
      recognition.start();
    }

    // HERO SLIDESHOW
    const slides = document.querySelectorAll(".hero-slide");
    let currentSlide = 0;
    const SLIDE_INTERVAL = 6000;

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle("active", i === index);
      });
    }

    if (slides.length > 1) {
      setInterval(() => {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
      }, SLIDE_INTERVAL);
    }

    // Festivals dropdown: first click opens, second click navigates
    (function () {
      const dd = document.getElementById("festivals-dd");
      const link = document.getElementById("festivals-link");
      if (!dd || !link) return;

      link.addEventListener("click", function (e) {
        if (!dd.classList.contains("open")) {
          e.preventDefault();
          dd.classList.add("open");
        }
      });

      document.addEventListener("click", function (e) {
        if (!dd.contains(e.target)) dd.classList.remove("open");
      });

      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") dd.classList.remove("open");
      });
    })();

    // Mobile hamburger menu
    (function () {
      const nav = document.getElementById("top-nav");
      const toggle = document.getElementById("nav-toggle");
      const links = document.getElementById("nav-links");
      if (!nav || !toggle || !links) return;

      function closeMenu(){
        nav.classList.remove("open");
        toggle.setAttribute("aria-expanded", "false");
        toggle.setAttribute("aria-label", "Open menu");
      }

      toggle.addEventListener("click", function () {
        const isOpen = nav.classList.toggle("open");
        toggle.setAttribute("aria-expanded", String(isOpen));
        toggle.setAttribute("aria-label", isOpen ? "Close menu" : "Open menu");
      });

      links.addEventListener("click", function (e) {
        if (e.target.tagName.toLowerCase() === "a") closeMenu();
      });

      document.addEventListener("click", function (e) {
        if (!nav.contains(e.target)) closeMenu();
      });

      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") closeMenu();
      });
    })();
  </script>

</body>
</html>
